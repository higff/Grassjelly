(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71367435"],{a55b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"content"},[s("div",{staticClass:"form sign-in"},[s("h2",[e._v("欢迎回来")]),s("label",[s("span",[e._v("用户名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{blur:e.checkUsername,input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.uname))])]),s("label",[s("span",[e._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{blur:e.checkPassword,input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.pawd))])]),e._m(0),s("button",{staticClass:"submit",attrs:{type:"button"},on:{click:e.login}},[e._v("登 录")]),s("div",{staticClass:"img__btn",on:{click:e.tag}},[s("span",{staticClass:"m--up"},[e._v("注 册")]),s("span",{staticClass:"m--in"},[e._v("登 录")])])]),s("div",{staticClass:"sub-cont"},[s("div",{staticClass:"img"},[e._m(1),e._m(2),s("div",{staticClass:"img__btn",on:{click:e.tag}},[s("span",{staticClass:"m--up"},[e._v("注 册")]),s("span",{staticClass:"m--in"},[e._v("登 录")])])]),s("div",{staticClass:"form sign-up"},[s("h2",[e._v("立即注册")]),s("label",[s("span",[e._v("用户名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.regusername,expression:"regusername"}],attrs:{type:"text"},domProps:{value:e.regusername},on:{blur:e.checkregUsername,input:function(t){t.target.composing||(e.regusername=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.reguname))])]),s("label",[s("span",[e._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.regpassword,expression:"regpassword"}],attrs:{type:"password"},domProps:{value:e.regpassword},on:{blur:e.checkregPassword,input:function(t){t.target.composing||(e.regpassword=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.regpawd))])]),s("label",[s("span",[e._v("手机号")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:e.phone},on:{blur:e.checkPhone,input:function(t){t.target.composing||(e.phone=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.ph))])]),s("label",[s("span",[e._v("昵称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],attrs:{type:"text"},domProps:{value:e.nickname},on:{blur:e.checkNickname,input:function(t){t.target.composing||(e.nickname=t.target.value)}}}),s("span",{staticClass:"color"},[e._v(e._s(e.nname))])]),s("button",{staticClass:"submit",attrs:{type:"button"},on:{click:e.handle}},[e._v("注 册")]),s("div",{staticClass:"img__btn",on:{click:e.tag}},[s("span",{staticClass:"m--up"},[e._v("注 册")]),s("span",{staticClass:"m--in"},[e._v("登 录")])])])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"forgot-pass"},[s("a",{attrs:{href:"javascript:"}},[e._v("忘记密码？")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img__text m--up"},[s("h2",[e._v("还未注册？")]),s("p",[e._v("立即注册，尊享书亦烧仙草美味！")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img__text m--in"},[s("h2",[e._v("已有帐号？")]),s("p",[e._v("有帐号就登录吧，好久不见了！")])])}],i={data:function(){return{username:"",password:"",regusername:"",regpassword:"",phone:"",nickname:"",uname:"",pawd:"",reguname:"",regpawd:"",ph:"",nname:""}},methods:{tag:function(){document.querySelector(".content").classList.toggle("s--signup")},login:function(){var e=this;this.checkUsername()&&this.checkPassword()&&this.axios.post("/login","username="+this.username+"&password="+this.password).then((function(t){201==t.data.code&&alert("用户名或者密码错误"),200==t.data.code&&(e.$store.commit("loginMutation",t.data.info),localStorage.setItem("isLogin",1),localStorage.setItem("info",JSON.stringify(t.data.info)),e.$router.push("/"))}))},handle:function(){var e=this;if(this.checkregUsername()&&this.checkregPassword()&&this.checkPhone()&&this.checkNickname()){var t={username:this.regusername,password:this.regpassword,phone:this.phone,nickname:this.nickname,create_time:this.moment(new Date).format("YYYY-MM-DD hh:mm:ss"),update_time:this.moment(new Date).format("YYYY-MM-DD hh:mm:ss")};this.axios.post("/register",this.qs.stringify(t)).then((function(t){201==t.data.code&&alert("注册失败"),200==t.data.code&&e.tag()}))}},checkUsername:function(){var e=/^[0-9A-Za-z]{6,12}$/;return!!e.test(this.username)||(this.uname="×用户名长度为6~12位×",!1)},checkPassword:function(){var e=/^[0-9A-Za-z]{6,12}$/;return!!e.test(this.password)||(this.pawd="×密码长度为6~12位×",!1)},checkregUsername:function(){var e=/^[0-9A-Za-z]{6,12}$/;return e.test(this.regusername)?(this.reguname="",!0):(this.reguname="×用户名长度为6~12位×",!1)},checkregPassword:function(){var e=/^[0-9A-Za-z]{6,12}$/;return!!e.test(this.regpassword)||(this.regpawd="×密码长度为6~12位×",!1)},checkPhone:function(){var e=/^1[3-9][0-9]{9}$/;return e.test(this.phone)?(this.ph="",!0):(this.ph="×手机号码长度为11位×",!1)},checkNickname:function(){var e=/^[\u4e00-\u9fa5]+$/;return e.test(this.nickname)?(this.nname="",!0):(this.nname="×昵称长度为2~6位×",!1)}}},r=i,o=(s("d6db"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=c.exports},d6db:function(e,t,s){"use strict";var a=s("e67a"),n=s.n(a);n.a},e67a:function(e,t,s){}}]);
//# sourceMappingURL=chunk-71367435.aa80e37a.js.map